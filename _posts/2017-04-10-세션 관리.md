---
layout: post
title: 세션 관리
categories: [study, hacking]
fullview: true
comments: true
---

세션은 앞서 언급한 바와 같이 '사용자와 컴퓨터 또는 두 컴퓨터 간의 활성화된 접속'을 의미한다.

클라이언트 측면에서의 세션은 서버에 올바른 접속을 확인하기 위한 인증 절차이고 서버 측면에서의 세션은 클라이언트에서 오는 세션이 유효한지 확인하는 과정이다.

컴퓨터에서 세션을 적절히 유지하기 위한 보안 사항은 두 가지다. 하나는 세션 하이재킹(Session Hijacking)이나 네트워크 패킷 스니핑(Sniffing)에 대응하기 위해 암호화를 하는 것이고, 다른 하나는 세션에 대한 지속적인 인증(Continous Authenitication)을 하는 것이다.

먼저 세션에 대한 지속적인 인증이 무엇인지 이해해야 한다. 어떤 사용자가 인증 정차를 거쳐 시스템에 접근하는데 성공했다. 그러면 얼마 후 같은 아이디로 시스템에 접근하는 사용자가 처음 인증에 성공한 그 사용자인지 확인하기 위해 지속적으로 재인증을 수행해야 한다. 하지만 지속적인 인증이라고 해서 명령어 한 줄을 입력할 때마다 패스워드를 입력하게 할 수는 없다. 시스템에서는 이러한 문제를 세션에 대한 타임아웃 설정으로 보완하고 있는데, 바로 윈도우의 화면 보호기가 그 예이다.

윈도우의 화면 보호기는 사용자가 원격에서 접속해도 똑같이 동작한다. 하지만 유닉스는 원격에서 접속할 경우 패스워드를 묻지 않고 세션을 종료한 후 재접속하기를 요구한다. 유닉스에도 세션 타임아웃이 존재하지만 기본으로 설정되어 있는 값은 아니다. 시스템별로 차이가 있으나 일반적으로 /etc/default/login 이나 /etc/profile과 같이 사용자의 일반 환경을 설정하는 파일에서 타임아웃 값을 명시적으로 설정한다. 그리고 이런 사항은 네트워크 장비도 마찬가지다.

데이터베이스에서는 일반적으로 세션에 대한 타임아웃을 적용하지 않는다. 데이터베이스는 사람이 접근하는 경우도 있지만 대부분 시스템 간의 세션을 가지고 있기 때문이다. 만약 여기에 타임아웃을 적용시키면 시스템 간 통신이 없을 때마다 사라밍 다시 연결해줘야 한다.

시스템이 아닌 웹 서비스를 이용할 때도 '지속적인 인증'은 적용된다. 인터넷뱅킹을 할 때 공인인증서의 패스워드나 보안카드의 숫자를 반복해 물어보는 경우, 혹은 시스템에서 패스워드를 변경할 때 원래의 패스워드를 묻는 경우, 패스워드 기간이 만료되어 재설정을 요구하는 경우도 모두 같은 목적이다.
